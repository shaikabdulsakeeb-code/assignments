<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>products</title>
</head>
<body>
    <input type="text" id="ip" placeholder="How many products">
    <button onclick="get()">Get</button>
    <h1 id="h"></h1>
    <table id="t1" border="1">
    </table>
    <script>
        var products;
        async function get(){
            // console.dir(JSON.parse(http.response))
            document.getElementById("h").innerText="Dummy products got using Fetch method"
            var s=+document.getElementById("ip").value
            await fetch("https://dummyjson.com/products?limit="+s)
            .then(function(res){
                return res.json()
            })
            .then((data)=>{
                products=data.products
                // genui(da)
            })
            console.log(products)
            genui()
            
        }
        function createtd(text) {
            let td = document.createElement("td")
            td.innerText = text
            return td
        }
        function genui(){
            document.getElementById("t1").innerHTML=""
            products.forEach((p)=>{
                let ntr=document.createElement("tr")
                let tdi=document.createElement("td")
                let i=document.createElement("img")
                i.src=p.thumbnail
                tdi.appendChild(i)
                ntr.appendChild(tdi)
                ntr.appendChild(createtd(p.title))
                ntr.appendChild(createtd(p.category))
                ntr.appendChild(createtd(p.price))
                document.getElementById("t1").appendChild(ntr)
            })
        }
        </script>
</body>
</html>