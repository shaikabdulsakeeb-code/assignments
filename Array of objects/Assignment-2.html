<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 2</title>
</head>

<body>
    <script>
        var products = [
            {
                "name": "Duracell - AAA Batteries (4-Pack)",
                "type": "HardGood",
                "price": 5.49,
                "category": "Household Batteries",
                "manufacturer": "Duracell",
            },
            {
                "name": "Hard Rock TrackPak - Mac",
                "type": "Software",
                "price": 29.99,
                "category": "Recording Equipment",
                "manufacturer": "Hal Leonard",
            },
            {
                "name": "Duracell - AA 1.5V CopperTop Batteries (4-Pack)",
                "type": "HardGood",
                "price": 5.62,
                "category": "Household Batteries",
                "manufacturer": "Duracell",
            },
            {
                "name": "Energizer - MAX Batteries AA (4-Pack)",
                "type": "HardGood",
                "price": 5.32,
                "category": "Household Batteries",
                "manufacturer": "Energizer",
            },
            {
                "name": "METRA - Antenna Cable Adapter - Black",
                "type": "HardGood",
                "price": 13.99,
                "category": "Antennas & Adapters",
                "manufacturer": "Metra",
            },
            {
                "name": "WipeDrive Six - Mac|Windows",
                "type": "Software",
                "price": 23.99,
                "category": "Maintenance Software",
                "manufacturer": "White Canyon",
            }
        ];
        //  1. Print all the product names. 
        document.write("Product names =<br>")
        products.forEach(({ name }) => {
            document.write(name + "<br>")
        })

        //  2. Print all the hardgoods. 
        document.write("<br>HardGoods =<br>")
        products.forEach(({ name, type }) => {
            if (type == "HardGood") {
                document.write(name + "<br>")
            }
        })

        //  3. Print all the softwares. 
        document.write("<br>Softwares =<br>")
        products.forEach(({ name, type }) => {
            if (type == "Software") {
                document.write(name + "<br>")
            }
        })

        //  4. Print all the categories. 
        document.write("<br>Caregories =<br>")
        products.forEach(({ category }) => {
            document.write(category + "<br>")
        })

        //  5. Print only the products manufactured by Duracell. 
        document.write("<br>Products manufactured by Duracell =<br>")
        products.forEach(({ name, manufacturer }) => {
            if (manufacturer == "Duracell")
                document.write(name + "<br>")
        })

        //  6. Print the product names in ascending order of their prices. 
        var sortbyprice = products.slice()
        sortbyprice.sort((a, b) => a.price - b.price)
        document.write("<br>Product names in ascending order of thier prices<br>")
        sortbyprice.forEach(({ name, price }) => {
            document.write("Name  = " + name + " and price = " + price + "<br>")
        })

        //  7. Print only those products whose price is more than 14.99. 
        var pr = products.filter(({ price }) => {
            if (price > 14.99) {
                return true
            }
            else {
                return false
            }
        })
        document.write("<br>Products whose price is more than 14.99 = <br>")
        pr.forEach(({ name, price }) => {
            document.write(name + "  and price = " + price + "<br>")
        })

        //  8. Print only those products whose price is less than 9.99. 
        var lowpr = products.filter(({ price }) => {
            if (price < 9.99) {
                return true
            }
            else {
                return false
            }
        })
        document.write("<br>Products whose price is less than 9.99 = <br>")
        lowpr.forEach(({ name, price }) => {
            document.write(name + "  and price = " + price + "<br>")
        })

        //  9. Print the total price of all the hardgoods. 
        var total_pr_of_hg = products.reduce((sum, pr) => {
            if (pr.type == 'HardGood') {
                return sum + pr.price
            }
            return sum
        }, 0)
        document.write("<br>Total price of hardgoods = " + total_pr_of_hg)

        //  10. Print the average price of the softwares. 
        var n = 0
        var avg_pr_of_sw = products.reduce((sum, pr) => {
            if (pr.type == 'Software') {
                n++
                return sum + pr.price
            }
            return sum
        }, 0)
        avg_pr_of_sw = avg_pr_of_sw / n
        document.write("<br>Average price of softwares = " + (avg_pr_of_sw) + "<br>")

        // Advanced:
        // 1. Print all the product names in ascending order of their prices. 
        document.write("<br>product names in ascending order of their prices = <br>")
        var sortbyprice = products.slice()
        sortbyprice.sort((a, b) => a.price - b.price)
        sortbyprice.forEach((pr) => {
            document.write("Name =" + pr.name + " and Price = " + pr.price + "<br>")
        })

        // 2. Separate all Hardgood and Software and store them in separate arrays. 
        var hg = products.filter((pr) => {
            if (pr.type == 'HardGood') {
                return true
            }
            else {
                return false
            }
        })
        var sg = products.filter((pr) => {
            if (pr.type == 'Software') {
                return true
            }
            else {
                return false
            }
        })

        // 3. Store all the categories in an array. There should not be any duplicates. 
        var temp = products.slice()
        var categ = []
        temp.forEach((pr) => {
            if (categ.indexOf(pr.category) == -1) {
                categ.push(pr.category)
            }
        })
        document.write("<br>Categories = <br>")
        categ.forEach((c) => {
            document.write(c + "<br>")
        })
        // 4. Print all the product names with numbering.
        // Expected output: "1. Duracell - AAA Batteries (4-Pack)"
        // "2. Hard Rock TrackPak - Mac" ……..and so on. 
        var i = 1
        document.write("<br>")
        products.forEach((pr) => {
            document.write(i + ". " + pr.name + "<br>")
            i++
        })

        // 5. Print the product names of all the Hardgoods in alphabetical order(a-z). 
        var sortedhg = products.filter((pr) => {
            if (pr.type == 'HardGood') {
                return true
            }
            else {
                return false
            }
        })
        document.write("<br>HardGoods in alphabetical order(a-z) = <br>")
        sortedhg.sort((a, b) => a.name.localeCompare(b.name))
        sortedhg.forEach((pr) => {
            document.write(pr.name + "<br>")
        })

        // 6. Print the product names of all the Softwares in reverse alphabetical order(z-a). 
        var sortedse = products.filter((pr) => {
            if (pr.type == 'Software') {
                return true
            }
            else {
                return false
            }
        })
        document.write("<br>Software names in reverse alphabetical order(a-z) = <br>")
        sortedse = sortedse.sort((a, b) => a.name.localeCompare(b.name)).reverse()
        sortedse.forEach((pr) => {
            document.write(pr.name + "<br>")
        })

        // 7. Decrease the price of all products by 10% and print the new array of objects. 
        document.write("<br>After Decreasing price by 10% =<br>")
        var Decreaseprice = products.map((pr) => {
            return {
                name: pr.name,
                price: pr.price - (pr.price * 0.10)
            }
        })
        Decreaseprice.forEach((pr) => {
            document.write(pr.name + " and price = " + pr.price + "<br>")
        })

        // 8. Check whether any of the manufacturers is "Metra". 
        var ck = false
        document.write("<br>Products = <br>")
        products.forEach((pr) => {
            if (pr.manufacturer == 'Metra') {
                ck = true
                document.write(pr.name + "<br>")
            }
        })
        if (ck) {
            document.write("<br>Yes the above products manufacturer is Metra<br>")
        }
        else {
            document.write("<br>No there is no product whose manufacturer is Metra<br>")
        }

        // 9. Check whether all products are manufactured by "Duracell". 
        var checkisduracell = products.every((pr) => {
            if (pr.manufacturer == 'Duracell') {
                return true
            }
            else {
                return false
            }
        })
        if (checkisduracell) {
            document.write("<br>all products are manufactured by 'Duracell'<br>")
        }
        else {
            document.write("<br>No all products are not manufactured by 'Duracell'<br>")
        }

        //    10. Add a "discount" property to each object and print the new array of objects. For example,
        //     add "discount": 1.5 to each object
        document.write("<br>After adding the discount : 1.5 to each object = <br>")
        products.forEach((pr) => {
            pr.discount = 1.15
            document.write(pr.name + " and price after discount : 1.5 = " + (pr.price - pr.discount) + "<br>")
        })
    </script>
</body>

</html>